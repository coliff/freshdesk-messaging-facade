/*!
 * Freshdesk Messaging Facade v1.3.0 (https://github.com/coliff/freshdesk-messaging-facade)
 */
document.getElementById("freshdesk-messaging-facade").removeAttribute("hidden");class FreshchatFacade extends HTMLElement{connectedCallback(){this.siteId=this.getAttribute("data-siteid");this.token=this.getAttribute("data-token");this.host=this.getAttribute("data-host")||"https://wchat.freshchat.com";this.addEventListener("pointerover",FreshchatFacade.warmConnections,{once:true});this.addEventListener("pointerover",(()=>this.addScript()))}static addPrefetch(kind,url,as){const linkEl=document.createElement("link");linkEl.rel=kind;linkEl.href=url;if(as){linkEl.as=as}document.head.append(linkEl)}static warmConnections(){if(FreshchatFacade.preconnected)return;FreshchatFacade.addPrefetch("preconnect",this.host);FreshchatFacade.addPrefetch("preconnect","https://assetscdn-wchat.freshchat.com");FreshchatFacade.preconnected=true}addScript(){const script=document.createElement("script");script.src="https://wchat.freshchat.com/js/widget.js";document.head.append(script);script.onerror=function(){document.getElementById("freshdesk-messaging-facade").setAttribute("hidden","hidden")};script.onload=()=>{document.getElementById("freshdesk-messaging-icon").classList.add("freshdesk-messaging-icon-loading");fcWidget.init({token:this.token,host:this.host,siteId:this.siteId,config:{headerProperty:{hideChatButton:false}}});fcWidget.on("widget:opened",(function(){document.getElementById("freshdesk-messaging-facade").setAttribute("hidden","hidden")}))}}}customElements.define("freshdesk-messaging-facade",FreshchatFacade);